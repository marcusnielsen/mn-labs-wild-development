{"version":3,"sources":["../../../server/app/index.test.js"],"names":[],"mappings":";;;;oBACiB,MAAM;;;;8BACJ,kBAAkB;;;;mBACrB,QAAQ;;;;AAHxB,OAAO,CAAC,WAAW,CAAC,CAAC;;AAKrB,IAAM,YAAY,GAAG,mBAAmB,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;;AAE5D,uBAAK,UAAU,EAAE,SAAS,MAAM,CAAC,IAAI,EAAE;AACrC,mBAAI,IAAI,CAAC,SAAS,MAAM,GAAG;AACzB,QAAI,CAAC,GAAG,EAAE,CAAC;GACZ,CAAC,CAAC;CACJ,CAAC,CAAC;;;AAGH,IAAM,gBAAgB,GAAG;AACvB,YAAU,EAAE,CAAC,WAAW,CAAC;AACzB,wBAAsB,EAAE,IAAI;CAC7B,CAAC;;AAEF,uBAAK,WAAW,EAAE,SAAS,MAAM,CAAC,IAAI,EAAE;AACtC,MAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;AAEb,MAAM,MAAM,GAAG,iCAAO,YAAY,EAAE,gBAAgB,CAAC,CAAC;;AAEtD,QAAM,CAAC,EAAE,CAAC,SAAS,EAAE,SAAS,SAAS,GAAG,EAEzC,CAAC,CAAC;;AAEH,QAAM,CAAC,EAAE,CAAC,SAAS,EAAE,SAAS,SAAS,CAAC,OAAO,EAAE;AAC/C,UAAM,CAAC,UAAU,EAAE,CAAC;AACpB,QAAI,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;GAC9B,CAAC,CAAC;CACJ,CAAC,CAAC;;AAEH,uBAAK,WAAW,EAAE,SAAS,MAAM,CAAC,IAAI,EAAE;AACtC,mBAAI,KAAK,EAAE,CAAC;AACZ,MAAI,CAAC,GAAG,EAAE,CAAC;CACZ,CAAC,CAAC","file":"index.test.js","sourcesContent":["require('../config');\nimport tape from 'tape';\nimport ioInit from 'socket.io-client';\nimport app from '../app';\n\nconst websocketUrl = 'http://localhost:' + process.env.PORT;\n\ntape('Init app', function onTest(test) {\n  app.init(function onInit() {\n    test.end();\n  });\n});\n\n// TODO: Verify if options are needed. -MANI\nconst websocketOptions = {\n  transports: ['websocket'],\n  'force new connection': true,\n};\n\ntape('Socket.IO', function onTest(test) {\n  test.plan(1);\n\n  const socket = ioInit(websocketUrl, websocketOptions);\n\n  socket.on('connect', function onConnect() {\n\n  });\n\n  socket.on('message', function onMessage(message) {\n    socket.disconnect();\n    test.equals(!!message, true);\n  });\n});\n\ntape('Close app', function onTest(test) {\n  app.close();\n  test.end();\n});\n"]}